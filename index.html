<!DOCTYPE html>
<html lang="en" translate="no">

<head>
  <meta charset="UTF-8" />
  <!-- Simplified viewport (A). Pinch/double-tap zoom suppression handled via JS for kiosk; allows better accessibility defaults elsewhere -->
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Five Star Rating Kiosk</title>
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="icon" href="icon-192.png" sizes="192x192" />
  <link rel="apple-touch-icon" href="icon-192.png" />
  <!-- iOS PWA essentials -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Rating" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="format-detection" content="telephone=no" />
  <!-- Optional specific size icon (falls back to 192 if 180 not present) -->
  <link rel="apple-touch-icon" sizes="180x180" href="icon-192.png" />
  <meta name="theme-color" content="#0f1113" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- Hidden SVG symbol sprite -->
  <svg aria-hidden="true" class="hidden-sprite">
    <symbol id="star-shape" viewBox="0 0 24 24">
      <path d="M12 2.4l2.9 6 6.6.9-4.9 4.8 1.2 6.6L12 17.9 6.2 20.7l1.2-6.6L2.5 9.3l6.6-.9L12 2.4z" />
    </symbol>
  </svg>
  <div class="wrap">
    <div class="panel" id="panel">
      <div id="updateToast">Update ready – tap to refresh</div>
      <div id="adminOverlay" class="admin-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="adminTitle">
        <div class="admin-box">
          <button class="admin-close" type="button" aria-label="Close">×</button>
          <h2 id="adminTitle">Kiosk Admin <span id="wakeStatus" class="wake-badge" data-state="off">WAKE OFF</span></h2>
          <div class="admin-meta">
            <div class="label">Revision</div>
            <div id="adminRevision">--</div>
            <div class="label">Product</div>
            <div id="adminProduct">--</div>
            <div class="label">Average</div>
            <div id="adminAvg">--</div>
            <div class="label">Ratings</div>
            <div id="adminCount">0</div>
            <div class="label">Online</div>
            <div id="adminOnline">--</div>
          </div>
          <div class="admin-actions">
            <button id="wakeToggle" type="button">Enable Wake Lock</button>
            <button id="diagToggle" type="button" class="sec">Diagnostics</button>
            <button id="clearData" type="button" class="sec danger">Clear</button>
          </div>
          <div class="admin-stats" id="adminStats" aria-label="Rating Buckets"></div>
          <div id="adminDiag" class="hidden" aria-label="Diagnostics"></div>
          <div class="u-muted-note">Tap corner hotspot (5x) or long-press corner to open. Tap outside box or press ESC
            to close.</div>
        </div>
      </div>
      <div class="top-bar">
        <div class="bar-group" id="leftTools">
          <button class="icon-btn" id="themeToggle" aria-label="Toggle theme"></button>
          <button class="icon-btn" id="fsToggle" aria-label="Fullscreen"></button>
        </div>
        <div class="u-flex-1"></div>
      </div>
      <h1 id="headingMain">Product Rating</h1>
      <div id="averageBlock" class="average-block hidden" aria-describedby="liveAnnouncer">
        <div id="avgStars" class="avg-stars" aria-hidden="true"></div>
        <div id="avgLine" class="avg-line">-- out of 5 Stars <small>with 0 Ratings</small></div>
      </div>
      <p id="subtitle" class="rating-text">Enter a name to begin</p>

      <div id="idInputWrapper" class="input-row hidden">
        <input id="idInput" placeholder="Product Name" maxlength="40" autocomplete="off" />
        <button id="startBtn" type="button">Start</button>
        <div class="notice">Local demo only (stored in this browser).</div>
      </div>

      <div id="yourLabel" class="section-label hidden">Add Your Rating</div>
      <div id="starsContainer" class="stars hidden" role="radiogroup" aria-label="Select a star rating"></div>
      <div id="kbdHint" class="kbd-hint hidden">Press 1–5 or use arrow keys, Enter to save.</div>

      <div id="status" class="status" aria-live="polite"></div>
      <div id="liveAnnouncer" class="visually-hidden" aria-live="polite"></div>
      <div class="footer-logo" aria-label="Brand logo">
        <img src="logo.svg" alt="Brand logo" />
      </div>
    </div>
  </div>
  <script src="app.js" defer></script>
  </body>
</html>


